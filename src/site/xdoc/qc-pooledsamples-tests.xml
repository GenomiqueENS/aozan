<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 *                  Aozan development code
 *
 * This code may be freely distributed and modified under the
 * terms of the GNU General Public License version 3 or later
 * and CeCILL. This should be distributed with the code. If you
 * do not have a copy, see:
 *
 *      http://www.gnu.org/licenses/gpl-3.0-standalone.html
 *      http://www.cecill.info/licences/Licence_CeCILL_V2-en.html
 *
 * Copyright for this code is held jointly by the Genomic platform
 * of the Institut de Biologie de l'École Normale Supérieure and
 * the individual authors. These should be listed in @author doc
 * comments.
 *
 * For more information on the Aozan project and its aims,
 * or to join the Aozan Google group, visit the home page at:
 *
 *      http://outils.genomique.biologie.ens.fr/aozan
 *
 */
-->
<document>

  <properties>
    <title>QC samples statistics tests</title>
    <author email="jourdren@biologie.ens.fr">Laurent Jourdren</author>
  </properties>

  <body>

    <section name="Pooled samples quality control tests">		
    	
    	
     <p>User can add samples statistics tests to be performed in this steps, if the demultiplexing statistic file is available 
     	and only if the sample sheet file concerns only on project, then the data on the replica in each lane are compiled. 
     	The order of the parameters in the Aozan configuration file will be reused in the report generated by this step.  
     	Each test can use several parameters and contains always an &quot;<b>enable</b>&quot; property to activate the test. 
     	Usually a property named &quot;<b>interval</b>&quot; exists for each test, however if this property is not set, 
     	the value will be computed but not checked if it is the correct interval.</p>
     
     <p>The sample statistics tests compile technical replica data from the samples tests and other quality control tests 
     	<a href="qc-samples-tests.html#contamination"> on detection contamination</a> and 
     	<a href="qc-samples-tests.html#recoveryclusters">analysis undetermined clusters</a>
	 	Please report to those documentation pages for more information. 
     	You will find below all the parameters for all the available tests in Aozan:</p>

       <h4>Configuration samples statistics quality tests</h4>
       <table>
        <tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>
		<tr><td>qc.test.pooledsample.sample.count.enable</td><td>boolean</td><td>False</td><td>Enable sample count project test</td></tr>
		<tr><td>qc.test.pooledsample.sample.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.genome.names.enable</td><td>string</td><td>False</td> <td>Enable genome names test</td></tr>
		<tr><td>qc.test.pooledsample.min.raw.cluster.count.enable</td><td>boolean</td><td>False</td><td>Enable raw cluster minimum count on replica samples</td></tr>
		<tr><td>qc.test.pooledsample.min.raw.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.max.raw.cluster.count.enable</td><td>boolean</td><td>False</td> <td>Enable raw cluster maximum count on replica samples</td></tr>
		<tr><td>qc.test.pooledsample.max.raw.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.raw.cluster.count.enable</td><td>boolean</td><td>False</td> <td>Enable raw cluster sum on replica samples</td></tr>
		<tr><td>qc.test.pooledsample.raw.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.min.pf.cluster.count.enable</td><td>boolean</td><td>False</td> <td>Enable passing filter cluster minimum count on replica samples</td></tr>
		<tr><td>qc.test.pooledsample.min.pf.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.max.pf.cluster.count.enable</td><td>boolean</td><td>False</td> <td>Enable passing filter cluster minimum count on replica samples</td></tr>
		<tr><td>qc.test.pooledsample.max.pf.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.pf.cluster.count.enable</td><td>boolean</td><td>False</td> <td>Enable passing filter cluster sum on replica samples</td></tr>
		<tr><td>qc.test.pooledsample.pf.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.q30.percent.enable</td><td>boolean</td><td>False</td> <td>Enable samplestatspercentq30basepf test</td></tr>
		<tr><td>qc.test.pooledsample.q30.percent.interval</td><td>interval</td><td>Not set</td> <td>Interval for valid values</td></tr>
		<!--tr><td>qc.test.samplestats.samplestatsmeanqualityscorepf.enable</td><td>boolean</td><td>False</td> <td>Enable samplestatsmeanqualityscorepf test</td></tr-->
		<tr><td>qc.test.pooledsample.pf.percent.enable</td><td>boolean</td><td>False</td> <td>Enable samplestatspassingfilterclusterpercent test</td></tr>
		<tr><td>qc.test.pooledsample.pf.percent.interval</td><td>interval</td><td>Not setFalse</td> <td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.in.run.percent.enable</td><td>boolean</td><td>False</td> <td>Enable percentsampleinrun test</td></tr>
		<tr><td>qc.test.pooledsample.in.run.percent.interval</td><td>interval</td><td>Not set</td> <td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.in.project.percent.enable</td><td>boolean</td><td>False</td> <td>Enable percentsampleinproject test</td></tr>
		<tr><td>qc.test.pooledsample.in.project.percent.interval</td><td>interval</td><td>Not set</td> <td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.sample.in.pool.count.enable</td><td>boolean</td><td>False</td> <td>Enable pooledsample.sample.in.pool.count test</td></tr>
       </table>

       
       <p>
       	Pooled samples quality tests depends on samples tests on replica selected for QC reports. 
       	Available, only if at least one test on <a href="qc-samples-tests.html#recoveryclusters">analysis 
       	undetermined clusters from demultiplexing</a> is selected.</p>
       	
       <table>
       	<tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>
		<tr><td>qc.test.pooledsample.raw.cluster.recovery.count.enable</td><td>boolean</td><td>False</td> <td>Enable recoverable raw cluster in samples statistics test</td></tr>
		<tr><td>qc.test.pooledsample.recoverable.raw.cluster.percent.enable</td><td>boolean</td><td>False</td> <td>Enable recoverable raw cluster percent in samples statistics test</td></tr>
		
		<tr><td>qc.test.pooledsample.pf.cluster.recovery.count.enable</td><td>boolean</td><td>False</td> <td>Enable recoverable passing filter cluster in samples statistics test</td></tr>
		<tr><td>qc.test.pooledsample.recoverable.pf.cluster.percent.enable</td><td>boolean</td><td>False</td> <td>Enable recoverable passing filter cluster percent in samples statistics test</td></tr>
	  </table>
		
		<p>
       	Pooled samples quality tests depends on samples tests selected for QC reports. Available, only if at least one test on 
       	<a href="qc-samples-tests.html#contamination">contamination detection with FastQ Screen</a> is selected.
       </p>
       <table>
		<tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.sample.overcontamination.count.enable</td><td>boolean</td><td>False</td><td>Enable samples statistics on exceeded contamination threshold test. Use other quality control test (qc.test.sample.fastqscreen.mapped.percent.enable)</td></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.sample.overcontamination.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.report.enable</td><td>boolean</td><td>False</td><td>Enable link to detection contamination project report compilation samples data</td></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.mapped.except.ref.percent.enable</td><td>boolean</td><td>False</td><td>The report of quality control contains a column with the percent of reads mapped at least one reference genomes, except on genome sample test</td></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.mapped.percent.enable</td><td>boolean</td><td>False</td><td>The report of quality control contains a column with the percent of reads mapped at least one reference genomes, except on genome sample test</td></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.mapped.except.ref.percent.interval</td><td>interval</td><td>Not set</td><td>Interval for valid values</td></tr>
		<tr><td>qc.test.pooledsample.fastqscreen.mapped.percent.enable</td><td>boolean</td><td>False</td><td>The report of quality control contains a column with the percent of reads mapped for each reference genome test</td></tr>
                <tr><td>qc.test.pooledsample.fastqscreen.report.enable</td><td>link</td><td>False</td><td>Enable link to detection contamination project report compilation samples data</td></tr>
       </table>
	

       <h4>Optional general configuration</h4>
        <p>The same on project statistics test, <a href="qc-projects-tests.html">look here.</a></p>
 	     
       <p>An example of table built with projects tests.</p>
       <div align="center">
       		<img src="images/qc_samplestats_table.png" alt="example on sample statistics table" border="1"/>
       </div>

    </section>
  </body>

</document>
