<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 *                  Aozan development code
 *
 * This code may be freely distributed and modified under the
 * terms of the GNU General Public License version 3 or later
 * and CeCILL. This should be distributed with the code. If you
 * do not have a copy, see:
 *
 *      http://www.gnu.org/licenses/gpl-3.0-standalone.html
 *      http://www.cecill.info/licences/Licence_CeCILL_V2-en.html
 *
 * Copyright for this code is held jointly by the Genomic platform
 * of the Institut de Biologie de l'École Normale Supérieure and
 * the individual authors. These should be listed in @author doc
 * comments.
 *
 * For more information on the Aozan project and its aims,
 * or to join the Aozan Google group, visit the home page at:
 *
 *      http://outils.genomique.biologie.ens.fr/aozan
 *
 */
-->
<document>

  <properties>
    <title>QC Lanes tests</title>
    <author email="jourdren@biologie.ens.fr">Laurent Jourdren</author>
  </properties>

  <body>

    <section name="Lanes quality control tests">


      <p>User can add lane tests to be performed in this steps.
      The order of the parameters in the Aozan configuration file will be reused in the report generated by this step.
      Each test can use several parameters and contains always an "<b>enable</b>" property to activate the test.
      Usually a property named "<b>interval</b>" exists for each test, however if this property is not set, the value will be computed but not checked if it is the correct interval.
      You will find below all the parameters for all the available tests in Aozan:</p>

      <h4>Parameters for collect data to lanes quality tests</h4>

      <table>
        <tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>
           <!--tr><td>qc.conf.read.xml.collector.used</td> <td>boolean</td><td>False</td><td>Use XML files to collect quality lane data instead of InterOp binary files (it is possible to use files read1.xml available with version 1.17.20 RTA and previous)</td></tr-->
           <tr><td>qc.conf.cluster.density.ratio</td><td>integer</td><td>0.3472222</td><td>Value necessary for compute the cluster density in the lane quality tests</td></tr>
       </table>

       <h4>Configuration lanes quality tests</h4>
       <table>
         <tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>

         <tr><td>qc.test.lane.raw.cluster.count.enable</td><td>boolean</td><td>False</td><td>Enable lane raw cluster count test</td></tr>
         <tr><td>qc.test.lane.raw.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.pf.cluster.count.enable</td><td>boolean</td><td>False</td><td>Enable lane passing filter cluster count test</td></tr>
         <tr><td>qc.test.lane.pf.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.pf.cluster.percent.enable</td><td>boolean</td><td>False</td><td>Enable lane passing filter cluster percent test</td></tr>
         <tr><td>qc.test.lane.pf.cluster.percent.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.yield.enable</td><td>boolean</td><td>False</td><td>Enable lane yield test</td></tr>
         <tr><td>qc.test.lane.yield.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.yield.pf.enable</td><td>boolean</td><td>False</td><td>Enable lane yield passing filter test</td></tr>
         <tr><td>qc.test.lane.yield.pf.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.phix.raw.cluster.count.enable</td><td>boolean</td><td>False</td><td>Enable lane PhiX raw cluster count test</td></tr>
         <tr><td>qc.test.lane.phix.raw.cluster.count.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.cluster.density.enable</td><td>boolean</td><td>False</td><td>Enable lane cluster density test</td></tr>
         <tr><td>qc.test.lane.cluster.density.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.cluster.density.pf.enable</td><td>boolean</td><td>False</td><td>Enable lane cluster passing filter density test</td></tr>
         <tr><td>qc.test.lane.cluster.density.pf.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.phix.align.percent.enable</td><td>boolean</td><td>False</td><td>Enable lane PhiX align percent test</td></tr>
         <tr><td>qc.test.lane.phix.align.percent.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.error.rate.enable</td><td>boolean</td><td>False</td><td>Enable lane error rate test</td></tr>
         <tr><td>qc.test.lane.error.rate.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values of lane error rate</td></tr>

         <tr><td>qc.test.lane.35.cycle.error.rate.enable</td><td>boolean</td><td>False</td><td>Enable lane 35 cycle error rate test</td></tr>
         <tr><td>qc.test.lane.35.cycle.error.rate.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.75.cycle.error.rate.enable</td><td>boolean</td><td>False</td><td>Enable lane 75 cycle error rate test</td></tr>
         <tr><td>qc.test.lane.75.cycle.error.rate.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.100.cycle.error.rate.enable</td><td>boolean</td><td>False</td><td>Enable lane 100 cycle error test</td></tr>
         <tr><td>qc.test.lane.100.cycle.error.rate.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.first.cycle.intensity.enable</td><td>boolean</td><td>False</td><td>Enable lane first cycle intensity test</td></tr>
         <tr><td>qc.test.lane.first.cycle.intensity.interval</td><td>integer interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.cycle.20.intensity.percent.enable</td><td>boolean</td><td>False</td><td>Enable lane cycle 20 intensity percent test</td></tr>
         <tr><td>qc.test.lane.cycle.20.intensity.percent.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

         <tr><td>qc.test.lane.phasing.prephasing.percent.enable</td><td>boolean</td><td>False</td><td>Enable lane phasing prephasing percent test</td></tr>
         <tr><td>qc.test.lane.phasing.prephasing.percent.phasing.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values of lane phasing percent</td></tr>
         <tr><td>qc.test.lane.phasing.prephasing.percent.prephasing.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values of lane prephasing percent</td></tr>

         <tr><td>qc.test.lane.q30.percent.enable</td><td>boolean</td><td>False</td><td>Enable lane Q30 percent test</td></tr>
         <tr><td>qc.test.lane.q30.percent.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>

	 <tr><td>qc.test.lane.occupancy.percent.enable</td><td>boolean</td><td>False</td><td>Enable lane occupancy percent test</td></tr>
         <tr><td>qc.test.lane.occupancy.percent.interval</td><td>double interval</td><td>Not set</td><td>Interval for valid values</td></tr>
       </table>

       <p>An example of table built with lanes quality tests.</p>
       <div align="center">
           <img src="images/qc_lane_test_800px.png" alt="example on report with run data" border="1"/>
       </div>



    <h5>Syntax of the interval values</h5>

    <p>User can define intervals as the next examples:</p>
    <ul>
      <li><b>[,10]</b> From - infinite to 10 (included)</li>
      <li><b>[,10[</b> From - infinite to 10 (excluded)</li>
      <li><b>[,10)</b> From - infinite to 10 (excluded)</li>
      <li><b>]2,10[</b> From 2 (excluded) to 10 (excluded)</li>
      <li><b>(2,10[</b> From 2 (excluded) to 10 (excluded)</li>
      <li><b>[2,10]</b> From 2 (included) to 10 (included)</li>
      <li><b>[2, ]</b> From 2 (included) to + infinite</li>
    </ul>

    </section>
  </body>

</document>
