<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 *                  Aozan development code
 *
 * This code may be freely distributed and modified under the
 * terms of the GNU General Public License version 3 or later
 * and CeCILL. This should be distributed with the code. If you
 * do not have a copy, see:
 *
 *      http://www.gnu.org/licenses/gpl-3.0-standalone.html
 *      http://www.cecill.info/licences/Licence_CeCILL_V2-en.html
 *
 * Copyright for this code is held jointly by the Genomic platform
 * of the Institut de Biologie de l'École Normale Supérieure and
 * the individual authors. These should be listed in @author doc
 * comments.
 *
 * For more information on the Aozan project and its aims,
 * or to join the Aozan Google group, visit the home page at:
 *
 *      http://outils.genomique.biologie.ens.fr/aozan
 *
 */
-->
<document>

  <properties>
    <title>QC Lanes tests</title>
    <author email="jourdren@biologie.ens.fr">Laurent Jourdren</author>
  </properties>

  <body>

    <section name="Quality control lanes tests">


     <p>User can add lanes tests to perform in this steps. The order of the parameters in the Aozan configuration
     file will be reused in the report generated by this step.  Each test can use
     several parameters and contains always an "<b>enable</b>" property to activate the test. Usually a property named "<b>interval</b>" exists
     for each test, however if this property is not set, the value will be computed but not checked if it is the correct interval.
     You will find below all the parameters for all the available tests in Aozan:</p>

     <h4>Parameters for collect data to lanes quality tests</h4>
       <table>
       		<tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>
       		<tr>
       			<td>qc.conf.read.xml.collector.used</td>
       			<td>boolean</td>
       			<td>False</td>
       			<td>Use XML files to collect quality lane data instead of InterOp binary files
	       			(it is possible to use files read1.xml available with version 1.17.20 RTA and previous)</td>
       		</tr>
       		<tr>
       			<td>qc.conf.cluster.density.ratio</td>
       			<td>integer</td>
       			<td>0.3472222</td>
       			<td>Value necessary for compute the cluster density in the lane quality tests</td>
       		</tr>
       </table>

       <h4>Configuration lanes quality tests</h4>
       <table>
         <tr><th>Aozan property</th><th>Type</th><th>Default value</th><th>Description</th></tr>
         <tr><td>qc.test.rawclusters.enable</td><td>boolean</td><td>False</td><td>Enable rawcluster test</td></tr>
         <tr><td>qc.test.rawclusters.interval</td><td>integer interval</td><td>False</td><td>Interval for valid values of rawcluster</td></tr>
         <tr><td>qc.test.pfclusters.enable</td><td>boolean</td><td>False</td><td>Enable pfcluster test</td></tr>
         <tr><td>qc.test.pfclusters.interval</td><td>integer interval</td><td>False</td><td>Interval for valid values of pfclusters</td></tr>
         <tr><td>qc.test.pfclusterspercent.enable</td><td>boolean</td><td>False</td><td>Enable pfclusterspercent test</td></tr>
         <tr><td>qc.test.pfclusterspercent.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of pfclusterspercent</td></tr>
         <tr><td>qc.test.rawclusterphix.enable</td><td>boolean</td><td>False</td><td>Enable raw cluster Phix count test</td></tr>
         <tr><td>qc.test.rawclusterphix.interval</td><td>integer interval</td><td>False</td><td>Interval for valid values of raw cluster Phix count</td></tr>
         <tr><td>qc.test.clusterdensity.enable</td><td>boolean</td><td>False</td><td>Enable clusterdensity test</td></tr>
         <tr><td>qc.test.clusterdensity.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of clusterdensity</td></tr>
         <tr><td>qc.test.percentalign.enable</td><td>boolean</td><td>False</td><td>Enable percentalign test</td></tr>
         <tr><td>qc.test.percentalign.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of percentalign</td></tr>
         <tr><td>qc.test.errorrate.enable</td><td>boolean</td><td>False</td><td>Enable errorrate test</td></tr>
         <tr><td>qc.test.errorrate.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of errorrate</td></tr>
         <tr><td>qc.test.errorrate35cycle.enable</td><td>boolean</td><td>False</td><td>Enable errorrate35cycle test</td></tr>
         <tr><td>qc.test.errorrate35cycle.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of errorrate35cycle</td></tr>
         <tr><td>qc.test.errorrate75cycle.enable</td><td>boolean</td><td>False</td><td>Enable errorrate75cycle test</td></tr>
         <tr><td>qc.test.errorrate75cycle.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of errorrate75cycle</td></tr>
         <tr><td>qc.test.errorrate100cycle.enable</td><td>boolean</td><td>False</td><td>Enable errorrate100cycle test</td></tr>
         <tr><td>qc.test.errorrate100cycle.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of errorrate100cycle</td></tr>
         <tr><td>qc.test.firstcycleintensity.enable</td><td>boolean</td><td>False</td><td>Enable firstcycleintensity test</td></tr>
         <tr><td>qc.test.firstcycleintensity.interval</td><td>integer interval</td><td>False</td><td>Interval for valid values of firstcycleintensity</td></tr>
         <tr><td>qc.test.percentintensitycycle20.enable</td><td>boolean</td><td>False</td><td>Enable percentintensitycycle20 test</td></tr>
         <tr><td>qc.test.percentintensitycycle20.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of percentintensitycycle20</td></tr>
         <!--tr><td>qc.test.phasingprephasing.enable</td><td>boolean</td><td>False</td><td>Enable phasingprephasing test</td></tr>
         <tr><td>qc.test.phasingprephasing.phasing.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of phasing</td></tr>
         <tr><td>qc.test.phasingprephasing.prephasing.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of prephasing</td></tr-->
         
         <tr><td>qc.test.lanepercentq30.enable</td><td>boolean</td><td>False</td><td>Enable lane Q30 percent test</td></tr>
         <tr><td>qc.test.lanepercentq30.interval</td><td>double interval</td><td>False</td><td>Interval for valid values of lane Q30 percent</td></tr>       

 
       </table>

       <p>An example of table built with lanes quality tests.</p>
       <div align="center">
       		<img src="images/qc_lane_test_800px.png" alt="example on report with run data" border="1"/>
       </div>



    <h5>Syntax of the interval values</h5>

    <p>User can define intervals as the next examples:</p>
    <ul>
      <li><b>[,10]</b> From - infinite to 10 (included)</li>
      <li><b>[,10[</b> From - infinite to 10 (excluded)</li>
      <li><b>[,10)</b> From - infinite to 10 (excluded)</li>
      <li><b>]2,10[</b> From 2 (excluded) to 10 (excluded)</li>
      <li><b>(2,10[</b> From 2 (excluded) to 10 (excluded)</li>
      <li><b>[2,10]</b> From 2 (included) to 10 (included)</li>
      <li><b>[2, ]</b> From 2 (included) to + infinite</li>
    </ul>

    </section>
  </body>

</document>
